# @socialite/db (Cloud Convex)

This package contains the global state and cloud-side logic for the Socialite AI Agent system. It manages workspaces, sessions, tool registries, and artifact persistence.

## Features

- **Session Management**: Lifecycle tracking for agent sessions across all platforms.
- **Workspace Configuration**: Centralized settings for models, limits, and team access.
- **Tool Registry**: A global catalog of available tools (API, MCP, Built-in) that agents can use.
- **Artifact Persistence**: Long-term storage for documents, canvases, and analysis results generated by agents.
- **Cost & Usage Tracking**: Logs for token usage and estimated costs per workspace.

## Structure

- `convex/schema.ts`: The global database schema.
- `convex/sessions.ts`: Mutations and queries for session lifecycle.
- `convex/workspaces.ts`: Workspace initialization and settings.
- `convex/toolRegistry.ts`: Management of the agent toolset.
- `convex/sandbox.ts`: Stubs and logic for E2B sandbox orchestration.

## Development

To start the Convex development server and watch for changes:

```bash
bun run dev
```

To deploy the schema and functions to production:

```bash
bun run deploy
```

## Integration

This package is used by:
1. **Frontend**: To create sessions, monitor progress, and view artifacts.
2. **Backend**: To coordinate sandbox creation and manage credentials.
3. **Sandbox**: To report status updates and sync final results.